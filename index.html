<html><head><base href="https://businesscanvaswizard.example.com">
    <title>&#x645;&#x639;&#x627;&#x644;&#x62c; &#x625;&#x646;&#x634;&#x627;&#x621; &#x646;&#x645;&#x648;&#x630;&#x62c; &#x627;&#x644;&#x639;&#x645;&#x644; &#x627;&#x644;&#x62a;&#x62c;&#x627;&#x631;&#x64a;</title>
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap');
     
      body {
        font-family: 'Roboto', sans-serif;
        background: #f4f7f9;
        margin: 0;
        padding: 0;
        height: 100vh;
        display: flex;
        flex-direction: column;
        direction: rtl;
        text-align: right;
      }
  
      .header {
        padding: 20px;
        background: #ffffff;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      }
  
      h1, h2 {
        text-align: center;
        font-weight: 700;
        margin: 0;
      }
  
      h1 {
        color: #2c3e50;
        font-size: 32px;
        margin-bottom: 10px;
      }
  
      h2 {
        color: #34495e;
        font-size: 20px;
      }
  
      .main-content {
        display: flex;
        flex-grow: 1;
      }
  
      .menu {
        width: 200px;
        background: #ffffff;
        padding: 20px;
        box-shadow: 2px 0 5px rgba(0,0,0,0.1);
        display: flex;
        flex-direction: column;
        border-right: none;
        border-left: 2px solid rgba(0,0,0,0.1);
      }
  
      .menu-item {
        display: block;
        padding: 10px 15px;
        margin-bottom: 10px;
        background: #3498db;
        color: #ffffff;
        text-decoration: none;
        border-radius: 5px;
        text-align: center;
        transition: background-color 0.3s ease;
      }
  
      .menu-item:hover {
        background: #2980b9;
      }
  
      #whiteboard {
        flex-grow: 1;
        background: #ffffff;
        position: relative;
        overflow: hidden;
        background: radial-gradient(#aaa 1px, transparent 1px);
        background-size: 10px 10px;
      }
  
      .canvas-section {
        position: absolute;
        padding: 15px;
        border-radius: 8px;
        text-align: center;
        font-size: 14px;
        box-sizing: border-box;
        resize: both;
        overflow: auto;
        border: 2px solid;
        transition: box-shadow 0.3s ease;
        cursor: move;
        display: flex;
        flex-direction: column;
      }
  
      .canvas-section:hover {
        box-shadow: 0 0 10px rgba(0,0,0,0.2);
      }
  
      .canvas-section::before {
        content: '↔️';
        position: absolute;
        top: 5px;
        right: 5px;
        left: auto;
        font-size: 12px;
        opacity: 0.5;
      }
  
      .canvas-section h3 {
        margin: 0 0 8px;
        font-weight: 500;
        padding-right: 15px;
        padding-left: 0;
        font-size: 16px;
      }
  
      .canvas-section form {
        display: flex;
        flex-direction: column;
        flex-grow: 1;
      }
  
      .canvas-section textarea {
        width: 100%;
        flex-grow: 1;
        padding: 8px;
        border: 1px solid #bdc3c7;
        border-radius: 4px;
        background-color: #fff;
        resize: none;
        font-size: 12px;
        min-height: 80px;
      }
  
      .color-squares {
        display: flex;
        justify-content: center;
        margin-top: 8px;
        border: 1px solid #CCCCCC;
        border-radius: 4px;
        padding: 3px;
        background-color: #ffffff;
        direction: ltr;
      }
  
      .color-square {
        width: 15px;
        height: 15px;
        margin: 0 3px;
        border-radius: 3px;
        cursor: pointer;
      }
     
      /* Define unique colors for each section of the canvas */
      .key-partners { background-color: #e7f9ed; border-color: #27ae60; }
      .key-activities { background-color: #eaf4ff; border-color: #3498db; }
      .value-proposition { background-color: #fff9e5; border-color: #f1c40f; }
      .customer-relationships { background-color: #f3e7f9; border-color: #9b59b6; }
      .customer-segments { background-color: #f9f9e7; border-color: #f39c12; }
      .key-resources { background-color: #fde2e1; border-color: #e74c3c; }
      .channels { background-color: #fdeff2; border-color: #e67e22; }
      .revenue-streams { background-color: #e0f3f4; border-color: #1abc9c; }
      .cost-structure { background-color: #e7eff9; border-color: #2980b9; }
     
      /* Color options */
      .color-option { background-color: #e7f9ed; }
      .color-option-2 { background-color: #eaf4ff; }
      .color-option-3 { background-color: #fff9e5; }
      .color-option-4 { background-color: #f3e7f9; }
      .color-option-5 { background-color: #fde2e1; }
  
      .resize-handle {
        position: absolute;
        bottom: 0;
        right: 0;
        width: 8px;
        height: 8px;
        cursor: se-resize;
      }
  
      #tips-popup {
        display: none;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: #ffffff;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 0 20px rgba(0,0,0,0.2);
        z-index: 1000;
        max-width: 600px;
        width: 90%;
        max-height: 80vh;
        overflow-y: auto;
        direction: rtl;
      }
  
      #tips-popup h3 {
        margin-top: 0;
        color: #2c3e50;
      }
  
      #tips-popup ul {
        padding-left: 20px;
        padding-right: 0;
      }
  
      #tips-popup li {
        margin-bottom: 10px;
      }
  
      #close-tips {
        position: absolute;
        top: 10px;
        left: 10px;
        right: auto;
        background: none;
        border: none;
        font-size: 20px;
        cursor: pointer;
      }
  
      #ai-section {
        margin-top: auto;
        padding: 15px;
        background: #f0f3f6;
        border-radius: 5px;
      }
  
      #ai-section h3 {
        margin-top: 0;
        color: #2c3e50;
        font-size: 16px;
      }
  
      #business-description {
        width: 100%;
        height: 100px;
        margin-bottom: 10px;
        padding: 8px;
        border: 1px solid #bdc3c7;
        border-radius: 4px;
        resize: vertical;
      }
  
      #generate-canvas {
        width: 100%;
        padding: 10px;
        background: #2ecc71;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        transition: background-color 0.3s ease;
      }
  
      #generate-canvas:hover {
        background: #27ae60;
      }
  
      #save-canvas, #load-canvas {
        width: 100%;
        padding: 10px;
        margin-top: 10px;
        background: #3498db;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        transition: background-color 0.3s ease;
      }
  
      #save-canvas:hover, #load-canvas:hover {
        background: #2980b9;
      }
  
      #loading-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 9999;
      }
  
      #loading-message {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: white;
        padding: 20px;
        border-radius: 5px;
        text-align: center;
        font-size: 18px;
        font-weight: bold;
      }
    </style>
    <script src="https://unpkg.com/htmx.org@1.9.2"></script>
    <script src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script>
      function changeColor(section, color) {
        var target = document.querySelector('.' + section);
        target.style.backgroundColor = color;
      }
      function initializeCanvas() {
        const whiteboard = document.getElementById('whiteboard');
        const sections = document.querySelectorAll('.canvas-section');
        const whiteboardRect = whiteboard.getBoundingClientRect();
        sections.forEach(section => {
          const rect = section.getBoundingClientRect();
          const leftPercent = (rect.left - whiteboardRect.left) / whiteboardRect.width * 100;
          const topPercent = (rect.top - whiteboardRect.top) / whiteboardRect.height * 100;
          const widthPercent = rect.width / whiteboardRect.width * 100;
          const heightPercent = rect.height / whiteboardRect.height * 100;
          section.style.left = `${leftPercent}%`;
          section.style.top = `${topPercent}%`;
          section.style.width = `${widthPercent}%`;
          section.style.height = `${heightPercent}%`;
        });
      }
      window.addEventListener('load', initializeCanvas);
      window.addEventListener('resize', initializeCanvas);
      interact('.canvas-section').draggable({
        inertia: true,
        modifiers: [interact.modifiers.restrictRect({
          restriction: 'parent',
          endOnly: true
        })],
        autoScroll: true,
        listeners: {
          move: dragMoveListener
        }
      }).resizable({
        edges: {
          left: true,
          right: true,
          bottom: true,
          top: true
        },
        listeners: {
          move: resizeMoveListener
        },
        modifiers: [interact.modifiers.restrictEdges({
          outer: 'parent'
        }), interact.modifiers.restrictSize({
          min: {
            width: 100,
            height: 50
          }
        })],
        inertia: true
      });
      function dragMoveListener(event) {
        var target = event.target;
        var x = (parseFloat(target.getAttribute('data-x')) || 0) + event.dx;
        var y = (parseFloat(target.getAttribute('data-y')) || 0) + event.dy;
        target.style.transform = 'translate(' + x + 'px, ' + y + 'px)';
        target.setAttribute('data-x', x);
        target.setAttribute('data-y', y);
      }
      function resizeMoveListener(event) {
        var target = event.target;
        var x = parseFloat(target.getAttribute('data-x')) || 0;
        var y = parseFloat(target.getAttribute('data-y')) || 0;
        target.style.width = event.rect.width + 'px';
        target.style.height = event.rect.height + 'px';
        x += event.deltaRect.left;
        y += event.deltaRect.top;
        target.style.transform = 'translate(' + x + 'px,' + y + 'px)';
        target.setAttribute('data-x', x);
        target.setAttribute('data-y', y);
      }
      window.dragMoveListener = dragMoveListener;
      async function generateCanvas() {
        const businessDescription = document.getElementById('business-description').value;
        if (!businessDescription.trim()) {
          alert('الرجاء إدخال وصف للعمل أولاً');
          return;
        }
  
        showLoadingOverlay();
  
        try {
          const response = await fetch('/api/ai_completion', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
              'Accept': 'application/json'
            },
            body: JSON.stringify({
              prompt: `Generate a business model canvas for the following business description in Arabic: ${businessDescription}
  
              Please provide content for each section in Arabic.
             
              <typescript-interface>
              interface Response {
                keyPartners: string;
                keyActivities: string;
                valueProposition: string;
                customerRelationships: string;
                customerSegments: string;
                keyResources: string;
                channels: string;
                revenueStreams: string;
                costStructure: string;
              }
              </typescript-interface>
             
              <example>
              {
                "keyPartners": "الموردون الرئيسيون، شركاء التوزيع",
                "keyActivities": "تطوير المنتج، التسويق، خدمة العملاء",
                "valueProposition": "حل مبتكر لمشكلة العملاء",
                "customerRelationships": "دعم شخصي، خدمة ذاتية",
                "customerSegments": "الشركات الصغيرة والمتوسطة",
                "keyResources": "الموظفون، التكنولوجيا، العلامة التجارية",
                "channels": "الموقع الإلكتروني، التطبيق، وسائل التواصل الاجتماعي",
                "revenueStreams": "اشتراكات شهرية، رسوم المعاملات",
                "costStructure": "تكاليف التطوير، الرواتب، التسويق"
              }
              </example>`,
              data: businessDescription
            })
          });
  
          if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
          }
  
          const data = await response.json();
  
          // Fill each section with the AI-generated content
          fillSection('key-partners', data.keyPartners);
          fillSection('key-activities', data.keyActivities);
          fillSection('value-proposition', data.valueProposition);
          fillSection('customer-relationships', data.customerRelationships);
          fillSection('customer-segments', data.customerSegments);
          fillSection('key-resources', data.keyResources);
          fillSection('channels', data.channels);
          fillSection('revenue-streams', data.revenueStreams);
          fillSection('cost-structure', data.costStructure);
  
        } catch (error) {
          console.error('Error getting AI canvas data:', error);
          alert('حدث خطأ أثناء إنشاء النموذج');
        } finally {
          hideLoadingOverlay();
        }
      }
  
      function fillSection(sectionName, content) {
        const textarea = document.querySelector(`.${sectionName} textarea`);
        if (textarea) {
          textarea.value = content;
        }
      }
      function exportToPdf() {
        const {
          jsPDF
        } = window.jspdf;
        const doc = new jsPDF('l', 'mm', 'a4');
        const canvas = document.getElementById('whiteboard');
        html2canvas(canvas).then(canvas => {
          const imgData = canvas.toDataURL('image/png');
          const imgProps = doc.getImageProperties(imgData);
          const pdfWidth = doc.internal.pageSize.getWidth();
          const pdfHeight = imgProps.height * pdfWidth / imgProps.width;
          doc.addImage(imgData, 'PNG', 0, 0, pdfWidth, pdfHeight);
          doc.save('business-model-canvas.pdf');
        });
      }
      function showTips() {
        document.getElementById('tips-popup').style.display = 'block';
      }
      function closeTips() {
        document.getElementById('tips-popup').style.display = 'none';
      }
      function showLoadingOverlay() {
        const overlay = document.getElementById('loading-overlay');
        if (overlay) {
          overlay.style.display = 'block';
        } else {
          console.error('Loading overlay element not found');
        }
      }
      function hideLoadingOverlay() {
        const overlay = document.getElementById('loading-overlay');
        if (overlay) {
          overlay.style.display = 'none';
        } else {
          console.error('Loading overlay element not found');
        }
      }
      function saveCanvas() {
        alert('تم حفظ النموذج بنجاح!');
      }
      function loadCanvas() {
        if (savedCanvas) {
          alert('تم تحميل النموذج بنجاح!');
        } else {
          alert('لم يتم العثور على نموذج محفوظ.');
        }
      }
      function testAPI() {
        fetch('/api/aicanvasgen', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            description: 'Test business description'
          })
        }).then(response => {
          console.log('Response status:', response.status);
          return response.json();
        }).then(data => {
          console.log('API Response:', data);
        }).catch(error => {
          console.error('API Test Error:', error);
        });
      }
    </script>
  </head>
  <body>
    <div class="header">
      <h1>&#x645;&#x639;&#x627;&#x644;&#x62c; &#x625;&#x646;&#x634;&#x627;&#x621; &#x646;&#x645;&#x648;&#x630;&#x62c; &#x627;&#x644;&#x639;&#x645;&#x644; &#x627;&#x644;&#x62a;&#x62c;&#x627;&#x631;&#x64a;</h1>
      <h2>&#x623;&#x62f;&#x627;&#x62a;&#x643; &#x627;&#x644;&#x645;&#x62b;&#x627;&#x644;&#x64a;&#x629; &#x644;&#x62a;&#x635;&#x645;&#x64a;&#x645; &#x646;&#x645;&#x627;&#x630;&#x62c; &#x627;&#x644;&#x623;&#x639;&#x645;&#x627;&#x644; &#x627;&#x644;&#x627;&#x62d;&#x62a;&#x631;&#x627;&#x641;&#x64a;&#x629;</h2>
    </div>
  
    <div class="main-content">
      <div class="menu">
        <a href="#" class="menu-item" onclick="exportToPdf()">&#x62a;&#x635;&#x62f;&#x64a;&#x631; &#x643;&#x645;&#x644;&#x641; PDF</a>
        <a href="#" class="menu-item" onclick="showTips()">&#x646;&#x635;&#x627;&#x626;&#x62d;</a>
        <button id="save-canvas" onclick="saveCanvas()">&#x62d;&#x641;&#x638; &#x627;&#x644;&#x646;&#x645;&#x648;&#x630;&#x62c;</button>
        <button id="load-canvas" onclick="loadCanvas()">&#x62a;&#x62d;&#x645;&#x64a;&#x644; &#x627;&#x644;&#x646;&#x645;&#x648;&#x630;&#x62c;</button>
        <div id="ai-section">
          <h3>&#x645;&#x646;&#x634;&#x626; &#x627;&#x644;&#x646;&#x645;&#x648;&#x630;&#x62c; &#x628;&#x627;&#x644;&#x630;&#x643;&#x627;&#x621; &#x627;&#x644;&#x627;&#x635;&#x637;&#x646;&#x627;&#x639;&#x64a;</h3>
          <textarea id="business-description" placeholder="&#x635;&#x641; &#x645;&#x634;&#x631;&#x648;&#x639;&#x643; &#x647;&#x646;&#x627;..."></textarea>
          <button id="generate-canvas" onclick="generateCanvas()">&#x625;&#x646;&#x634;&#x627;&#x621; &#x627;&#x644;&#x646;&#x645;&#x648;&#x630;&#x62c;</button>
        </div>
      </div>
  
      <div id="whiteboard">
        <div class="canvas-section key-partners" style="top: 2%; left: 1%; width: 18%; height: 30%;">
          <h3>&#x627;&#x644;&#x634;&#x631;&#x643;&#x627;&#x621; &#x627;&#x644;&#x631;&#x626;&#x64a;&#x633;&#x64a;&#x648;&#x646;</h3>
          <form hx-post="/canvas/key-partners" hx-trigger="keyup changed delay:500ms" hx-target=".response-key-partners">
            <textarea name="key-partners" placeholder="&#x62d;&#x62f;&#x62f; &#x634;&#x631;&#x643;&#x627;&#x626;&#x643; &#x627;&#x644;&#x631;&#x626;&#x64a;&#x633;&#x64a;&#x64a;&#x646; &#x648;&#x623;&#x62f;&#x648;&#x627;&#x631;&#x647;&#x645;..."></textarea>
            <div class="response-message response-key-partners"></div>
          </form>
          <div class="color-squares">
            <div class="color-square color-option" onclick="changeColor(&apos;key-partners&apos;, &apos;#e7f9ed&apos;)"></div>
            <div class="color-square color-option-2" onclick="changeColor(&apos;key-partners&apos;, &apos;#eaf4ff&apos;)"></div>
            <div class="color-square color-option-3" onclick="changeColor(&apos;key-partners&apos;, &apos;#fff9e5&apos;)"></div>
            <div class="color-square color-option-4" onclick="changeColor(&apos;key-partners&apos;, &apos;#f3e7f9&apos;)"></div>
            <div class="color-square color-option-5" onclick="changeColor(&apos;key-partners&apos;, &apos;#fde2e1&apos;)"></div>
          </div>
          <div class="resize-handle" style="background: #27ae60;"></div>
        </div>
        <div class="canvas-section key-activities" style="top: 2%; left: 20%; width: 18%; height: 30%;">
          <h3>&#x627;&#x644;&#x623;&#x646;&#x634;&#x637;&#x629; &#x627;&#x644;&#x631;&#x626;&#x64a;&#x633;&#x64a;&#x629;</h3>
          <form hx-post="/canvas/key-activities" hx-trigger="keyup changed delay:500ms" hx-target=".response-key-activities">
            <textarea name="key-activities" placeholder="&#x62d;&#x62f;&#x62f; &#x627;&#x644;&#x623;&#x646;&#x634;&#x637;&#x629; &#x627;&#x644;&#x631;&#x626;&#x64a;&#x633;&#x64a;&#x629; &#x627;&#x644;&#x644;&#x627;&#x632;&#x645;&#x629; &#x644;&#x62a;&#x634;&#x63a;&#x64a;&#x644; &#x639;&#x645;&#x644;&#x643;..."></textarea>
            <div class="response-message response-key-activities"></div>
          </form>
          <div class="color-squares">
            <div class="color-square color-option" onclick="changeColor(&apos;key-activities&apos;, &apos;#e7f9ed&apos;)"></div>
            <div class="color-square color-option-2" onclick="changeColor(&apos;key-activities&apos;, &apos;#eaf4ff&apos;)"></div>
            <div class="color-square color-option-3" onclick="changeColor(&apos;key-activities&apos;, &apos;#fff9e5&apos;)"></div>
            <div class="color-square color-option-4" onclick="changeColor(&apos;key-activities&apos;, &apos;#f3e7f9&apos;)"></div>
            <div class="color-square color-option-5" onclick="changeColor(&apos;key-activities&apos;, &apos;#fde2e1&apos;)"></div>
          </div>
          <div class="resize-handle" style="background: #3498db;"></div>
        </div>
        <div class="canvas-section value-proposition" style="top: 2%; left: 39%; width: 22%; height: 30%;">
          <h3>&#x627;&#x644;&#x642;&#x64a;&#x645;&#x629; &#x627;&#x644;&#x645;&#x642;&#x62a;&#x631;&#x62d;&#x629;</h3>
          <form hx-post="/canvas/value-proposition" hx-trigger="keyup changed delay:500ms" hx-target=".response-value-proposition">
            <textarea name="value-proposition" placeholder="&#x648;&#x636;&#x62d; &#x645;&#x627; &#x64a;&#x645;&#x64a;&#x632; &#x645;&#x646;&#x62a;&#x62c;&#x643; &#x623;&#x648; &#x62e;&#x62f;&#x645;&#x62a;&#x643;..."></textarea>
            <div class="response-message response-value-proposition"></div>
          </form>
          <div class="color-squares">
            <div class="color-square color-option" onclick="changeColor(&apos;value-proposition&apos;, &apos;#e7f9ed&apos;)"></div>
            <div class="color-square color-option-2" onclick="changeColor(&apos;value-proposition&apos;, &apos;#eaf4ff&apos;)"></div>
            <div class="color-square color-option-3" onclick="changeColor(&apos;value-proposition&apos;, &apos;#fff9e5&apos;)"></div>
            <div class="color-square color-option-4" onclick="changeColor(&apos;value-proposition&apos;, &apos;#f3e7f9&apos;)"></div>
            <div class="color-square color-option-5" onclick="changeColor(&apos;value-proposition&apos;, &apos;#fde2e1&apos;)"></div>
          </div>
          <div class="resize-handle" style="background: #f1c40f;"></div>
        </div>
        <div class="canvas-section customer-relationships" style="top: 2%; left: 62%; width: 18%; height: 30%;">
          <h3>&#x627;&#x644;&#x639;&#x644;&#x627;&#x642;&#x627;&#x62a; &#x645;&#x639; &#x627;&#x644;&#x639;&#x645;&#x644;&#x627;&#x621;</h3>
          <form hx-post="/canvas/customer-relationships" hx-trigger="keyup changed delay:500ms" hx-target=".response-customer-relationships">
            <textarea name="customer-relationships" placeholder="&#x635;&#x641; &#x643;&#x64a;&#x641; &#x633;&#x62a;&#x62a;&#x641;&#x627;&#x639;&#x644; &#x645;&#x639; &#x639;&#x645;&#x644;&#x627;&#x626;&#x643;..."></textarea>
            <div class="response-message response-customer-relationships"></div>
          </form>
          <div class="color-squares">
            <div class="color-square color-option" onclick="changeColor(&apos;customer-relationships&apos;, &apos;#e7f9ed&apos;)"></div>
            <div class="color-square color-option-2" onclick="changeColor(&apos;customer-relationships&apos;, &apos;#eaf4ff&apos;)"></div>
            <div class="color-square color-option-3" onclick="changeColor(&apos;customer-relationships&apos;, &apos;#fff9e5&apos;)"></div>
            <div class="color-square color-option-4" onclick="changeColor(&apos;customer-relationships&apos;, &apos;#f3e7f9&apos;)"></div>
            <div class="color-square color-option-5" onclick="changeColor(&apos;customer-relationships&apos;, &apos;#fde2e1&apos;)"></div>
          </div>
          <div class="resize-handle" style="background: #9b59b6;"></div>
        </div>
        <div class="canvas-section customer-segments" style="top: 2%; left: 81%; width: 18%; height: 30%;">
          <h3>&#x634;&#x631;&#x627;&#x626;&#x62d; &#x627;&#x644;&#x639;&#x645;&#x644;&#x627;&#x621;</h3>
          <form hx-post="/canvas/customer-segments" hx-trigger="keyup changed delay:500ms" hx-target=".response-customer-segments">
            <textarea name="customer-segments" placeholder="&#x62d;&#x62f;&#x62f; &#x639;&#x645;&#x644;&#x627;&#x621;&#x643; &#x627;&#x644;&#x645;&#x633;&#x62a;&#x647;&#x62f;&#x641;&#x64a;&#x646; &#x648;&#x62e;&#x635;&#x627;&#x626;&#x635;&#x647;&#x645;..."></textarea>
            <div class="response-message response-customer-segments"></div>
          </form>
          <div class="color-squares">
            <div class="color-square color-option" onclick="changeColor(&apos;customer-segments&apos;, &apos;#e7f9ed&apos;)"></div>
            <div class="color-square color-option-2" onclick="changeColor(&apos;customer-segments&apos;, &apos;#eaf4ff&apos;)"></div>
            <div class="color-square color-option-3" onclick="changeColor(&apos;customer-segments&apos;, &apos;#fff9e5&apos;)"></div>
            <div class="color-square color-option-4" onclick="changeColor(&apos;customer-segments&apos;, &apos;#f3e7f9&apos;)"></div>
            <div class="color-square color-option-5" onclick="changeColor(&apos;customer-segments&apos;, &apos;#fde2e1&apos;)"></div>
          </div>
          <div class="resize-handle" style="background: #f39c12;"></div>
        </div>
        <div class="canvas-section key-resources" style="top: 33%; left: 1%; width: 49%; height: 30%;">
          <h3>&#x627;&#x644;&#x645;&#x648;&#x627;&#x631;&#x62f; &#x627;&#x644;&#x631;&#x626;&#x64a;&#x633;&#x64a;&#x629;</h3>
          <form hx-post="/canvas/key-resources" hx-trigger="keyup changed delay:500ms" hx-target=".response-key-resources">
            <textarea name="key-resources" placeholder="&#x627;&#x630;&#x643;&#x631; &#x627;&#x644;&#x645;&#x648;&#x627;&#x631;&#x62f; &#x627;&#x644;&#x631;&#x626;&#x64a;&#x633;&#x64a;&#x629; &#x627;&#x644;&#x62a;&#x64a; &#x64a;&#x62a;&#x637;&#x644;&#x628;&#x647;&#x627; &#x639;&#x645;&#x644;&#x643;..."></textarea>
            <div class="response-message response-key-resources"></div>
          </form>
          <div class="color-squares">
            <div class="color-square color-option" onclick="changeColor(&apos;key-resources&apos;, &apos;#e7f9ed&apos;)"></div>
            <div class="color-square color-option-2" onclick="changeColor(&apos;key-resources&apos;, &apos;#eaf4ff&apos;)"></div>
            <div class="color-square color-option-3" onclick="changeColor(&apos;key-resources&apos;, &apos;#fff9e5&apos;)"></div>
            <div class="color-square color-option-4" onclick="changeColor(&apos;key-resources&apos;, &apos;#f3e7f9&apos;)"></div>
            <div class="color-square color-option-5" onclick="changeColor(&apos;key-resources&apos;, &apos;#fde2e1&apos;)"></div>
          </div>
          <div class="resize-handle" style="background: #e74c3c;"></div>
        </div>
        <div class="canvas-section channels" style="top: 33%; left: 51%; width: 48%; height: 30%;">
          <h3>&#x627;&#x644;&#x642;&#x646;&#x648;&#x627;&#x62a;</h3>
          <form hx-post="/canvas/channels" hx-trigger="keyup changed delay:500ms" hx-target=".response-channels">
            <textarea name="channels" placeholder="&#x62d;&#x62f;&#x62f; &#x643;&#x64a;&#x641; &#x633;&#x62a;&#x635;&#x644; &#x625;&#x644;&#x649; &#x639;&#x645;&#x644;&#x627;&#x626;&#x643;..."></textarea>
            <div class="response-message response-channels"></div>
          </form>
          <div class="color-squares">
            <div class="color-square color-option" onclick="changeColor(&apos;channels&apos;, &apos;#e7f9ed&apos;)"></div>
            <div class="color-square color-option-2" onclick="changeColor(&apos;channels&apos;, &apos;#eaf4ff&apos;)"></div>
            <div class="color-square color-option-3" onclick="changeColor(&apos;channels&apos;, &apos;#fff9e5&apos;)"></div>
            <div class="color-square color-option-4" onclick="changeColor(&apos;channels&apos;, &apos;#f3e7f9&apos;)"></div>
            <div class="color-square color-option-5" onclick="changeColor(&apos;channels&apos;, &apos;#fde2e1&apos;)"></div>
          </div>
          <div class="resize-handle" style="background: #e67e22;"></div>
        </div>
        <div class="canvas-section revenue-streams" style="top: 64%; left: 1%; width: 49%; height: 34%;">
          <h3>&#x645;&#x635;&#x627;&#x62f;&#x631; &#x627;&#x644;&#x625;&#x64a;&#x631;&#x627;&#x62f;&#x627;&#x62a;</h3>
          <form hx-post="/canvas/revenue-streams" hx-trigger="keyup changed delay:500ms" hx-target=".response-revenue-streams">
            <textarea name="revenue-streams" placeholder="&#x627;&#x634;&#x631;&#x62d; &#x643;&#x64a;&#x641; &#x633;&#x64a;&#x62d;&#x642;&#x642; &#x639;&#x645;&#x644;&#x643; &#x627;&#x644;&#x623;&#x631;&#x628;&#x627;&#x62d;..."></textarea>
            <div class="response-message response-revenue-streams"></div>
          </form>
          <div class="color-squares">
            <div class="color-square color-option" onclick="changeColor(&apos;revenue-streams&apos;, &apos;#e7f9ed&apos;)"></div>
            <div class="color-square color-option-2" onclick="changeColor(&apos;revenue-streams&apos;, &apos;#eaf4ff&apos;)"></div>
            <div class="color-square color-option-3" onclick="changeColor(&apos;revenue-streams&apos;, &apos;#fff9e5&apos;)"></div>
            <div class="color-square color-option-4" onclick="changeColor(&apos;revenue-streams&apos;, &apos;#f3e7f9&apos;)"></div>
            <div class="color-square color-option-5" onclick="changeColor(&apos;revenue-streams&apos;, &apos;#fde2e1&apos;)"></div>
          </div>
          <div class="resize-handle" style="background: #1abc9c;"></div>
        </div>
        <div class="canvas-section cost-structure" style="top: 64%; left: 51%; width: 48%; height: 34%;">
          <h3>&#x647;&#x64a;&#x643;&#x644; &#x627;&#x644;&#x62a;&#x643;&#x627;&#x644;&#x64a;&#x641;</h3>
          <form hx-post="/canvas/cost-structure" hx-trigger="keyup changed delay:500ms" hx-target=".response-cost-structure">
            <textarea name="cost-structure" placeholder="&#x62d;&#x62f;&#x62f; &#x627;&#x644;&#x62a;&#x643;&#x627;&#x644;&#x64a;&#x641; &#x627;&#x644;&#x645;&#x631;&#x62a;&#x628;&#x637;&#x629; &#x628;&#x646;&#x645;&#x648;&#x630;&#x62c; &#x639;&#x645;&#x644;&#x643;..."></textarea>
            <div class="response-message response-cost-structure"></div>
          </form>
          <div class="color-squares">
            <div class="color-square color-option" onclick="changeColor(&apos;cost-structure&apos;, &apos;#e7f9ed&apos;)"></div>
            <div class="color-square color-option-2" onclick="changeColor(&apos;cost-structure&apos;, &apos;#eaf4ff&apos;)"></div>
            <div class="color-square color-option-3" onclick="changeColor(&apos;cost-structure&apos;, &apos;#fff9e5&apos;)"></div>
            <div class="color-square color-option-4" onclick="changeColor(&apos;cost-structure&apos;, &apos;#f3e7f9&apos;)"></div>
            <div class="color-square color-option-5" onclick="changeColor(&apos;cost-structure&apos;, &apos;#fde2e1&apos;)"></div>
          </div>
          <div class="resize-handle" style="background: #2980b9;"></div>
        </div>
      </div>
  
      <div id="tips-popup">
        <h3>&#x646;&#x635;&#x627;&#x626;&#x62d; &#x644;&#x625;&#x646;&#x634;&#x627;&#x621; &#x646;&#x645;&#x648;&#x630;&#x62c; &#x627;&#x644;&#x639;&#x645;&#x644; &#x627;&#x644;&#x62a;&#x62c;&#x627;&#x631;&#x64a;</h3>
        <button id="close-tips" onclick="closeTips()">&#xd7;</button>
        <ul>
          <li><strong>&#x634;&#x631;&#x627;&#x626;&#x62d; &#x627;&#x644;&#x639;&#x645;&#x644;&#x627;&#x621;:</strong> &#x643;&#x646; &#x645;&#x62d;&#x62f;&#x62f;&#x627;&#x64b; &#x641;&#x64a; &#x62a;&#x62d;&#x62f;&#x64a;&#x62f; &#x639;&#x645;&#x644;&#x627;&#x626;&#x643;. &#x641;&#x643;&#x631; &#x641;&#x64a; &#x627;&#x644;&#x62a;&#x631;&#x643;&#x64a;&#x628;&#x629; &#x627;&#x644;&#x633;&#x643;&#x627;&#x646;&#x64a;&#x629; &#x648;&#x627;&#x644;&#x633;&#x644;&#x648;&#x643;&#x64a;&#x627;&#x62a; &#x648;&#x627;&#x644;&#x627;&#x62d;&#x62a;&#x64a;&#x627;&#x62c;&#x627;&#x62a;.</li>
          <li><strong>&#x627;&#x644;&#x642;&#x64a;&#x645;&#x629; &#x627;&#x644;&#x645;&#x642;&#x62a;&#x631;&#x62d;&#x629;:</strong> &#x648;&#x636;&#x62d; &#x628;&#x62f;&#x642;&#x629; &#x627;&#x644;&#x642;&#x64a;&#x645;&#x629; &#x627;&#x644;&#x641;&#x631;&#x64a;&#x62f;&#x629; &#x627;&#x644;&#x62a;&#x64a; &#x62a;&#x642;&#x62f;&#x645;&#x647;&#x627; &#x644;&#x643;&#x644; &#x634;&#x631;&#x64a;&#x62d;&#x629; &#x645;&#x646; &#x627;&#x644;&#x639;&#x645;&#x644;&#x627;&#x621;.</li>
          <li><strong>&#x627;&#x644;&#x642;&#x646;&#x648;&#x627;&#x62a;:</strong> &#x641;&#x643;&#x631; &#x641;&#x64a; &#x643;&#x64a;&#x641;&#x64a;&#x629; &#x627;&#x644;&#x648;&#x635;&#x648;&#x644; &#x625;&#x644;&#x649; &#x639;&#x645;&#x644;&#x627;&#x626;&#x643; &#x641;&#x64a; &#x643;&#x644; &#x645;&#x631;&#x62d;&#x644;&#x629; &#x645;&#x646; &#x645;&#x631;&#x627;&#x62d;&#x644; &#x631;&#x62d;&#x644;&#x629; &#x627;&#x644;&#x634;&#x631;&#x627;&#x621;.</li>
          <li><strong>&#x627;&#x644;&#x639;&#x644;&#x627;&#x642;&#x627;&#x62a; &#x645;&#x639; &#x627;&#x644;&#x639;&#x645;&#x644;&#x627;&#x621;:</strong> &#x62d;&#x62f;&#x62f; &#x643;&#x64a;&#x641; &#x633;&#x62a;&#x62a;&#x641;&#x627;&#x639;&#x644; &#x645;&#x639; &#x627;&#x644;&#x639;&#x645;&#x644;&#x627;&#x621; &#x648;&#x62a;&#x628;&#x646;&#x64a; &#x639;&#x644;&#x627;&#x642;&#x627;&#x62a; &#x62f;&#x627;&#x626;&#x645;&#x629;.</li>
          <li><strong>&#x645;&#x635;&#x627;&#x62f;&#x631; &#x627;&#x644;&#x625;&#x64a;&#x631;&#x627;&#x62f;&#x627;&#x62a;:</strong> &#x627;&#x630;&#x643;&#x631; &#x62c;&#x645;&#x64a;&#x639; &#x627;&#x644;&#x637;&#x631;&#x642; &#x627;&#x644;&#x62a;&#x64a; &#x633;&#x64a;&#x648;&#x644;&#x62f; &#x628;&#x647;&#x627; &#x639;&#x645;&#x644;&#x643; &#x627;&#x644;&#x62f;&#x62e;&#x644;.</li>
          <li><strong>&#x627;&#x644;&#x645;&#x648;&#x627;&#x631;&#x62f; &#x627;&#x644;&#x631;&#x626;&#x64a;&#x633;&#x64a;&#x629;:</strong> &#x62d;&#x62f;&#x62f; &#x623;&#x647;&#x645; &#x627;&#x644;&#x623;&#x635;&#x648;&#x644; &#x627;&#x644;&#x645;&#x637;&#x644;&#x648;&#x628;&#x629; &#x644;&#x646;&#x62c;&#x627;&#x62d; &#x646;&#x645;&#x648;&#x630;&#x62c; &#x639;&#x645;&#x644;&#x643;.</li>
          <li><strong>&#x627;&#x644;&#x623;&#x646;&#x634;&#x637;&#x629; &#x627;&#x644;&#x631;&#x626;&#x64a;&#x633;&#x64a;&#x629;:</strong> &#x62d;&#x62f;&#x62f; &#x623;&#x647;&#x645; &#x627;&#x644;&#x623;&#x634;&#x64a;&#x627;&#x621; &#x627;&#x644;&#x62a;&#x64a; &#x64a;&#x62c;&#x628; &#x623;&#x646; &#x62a;&#x642;&#x648;&#x645; &#x628;&#x647;&#x627; &#x634;&#x631;&#x643;&#x62a;&#x643; &#x644;&#x646;&#x62c;&#x627;&#x62d; &#x646;&#x645;&#x648;&#x630;&#x62c; &#x639;&#x645;&#x644;&#x647;&#x627;.</li>
          <li><strong>&#x627;&#x644;&#x634;&#x631;&#x643;&#x627;&#x621; &#x627;&#x644;&#x631;&#x626;&#x64a;&#x633;&#x64a;&#x648;&#x646;:</strong> &#x62d;&#x62f;&#x62f; &#x627;&#x644;&#x634;&#x631;&#x643;&#x627;&#x621; &#x648;&#x627;&#x644;&#x645;&#x648;&#x631;&#x62f;&#x64a;&#x646; &#x627;&#x644;&#x630;&#x64a;&#x646; &#x62a;&#x62d;&#x62a;&#x627;&#x62c;&#x647;&#x645; &#x644;&#x646;&#x62c;&#x627;&#x62d; &#x646;&#x645;&#x648;&#x630;&#x62c; &#x639;&#x645;&#x644;&#x643;.</li>
          <li><strong>&#x647;&#x64a;&#x643;&#x644; &#x627;&#x644;&#x62a;&#x643;&#x627;&#x644;&#x64a;&#x641;:</strong> &#x627;&#x630;&#x643;&#x631; &#x623;&#x647;&#x645; &#x62a;&#x643;&#x627;&#x644;&#x64a;&#x641;&#x643; &#x648;&#x643;&#x64a;&#x641; &#x64a;&#x645;&#x643;&#x646; &#x623;&#x646; &#x62a;&#x62a;&#x63a;&#x64a;&#x631; &#x645;&#x639; &#x646;&#x645;&#x648; &#x639;&#x645;&#x644;&#x643;.</li>
          <li><strong>&#x627;&#x644;&#x62a;&#x643;&#x631;&#x627;&#x631;:</strong> &#x62a;&#x630;&#x643;&#x631;&#x60c; &#x627;&#x644;&#x645;&#x633;&#x648;&#x62f;&#x629; &#x627;&#x644;&#x623;&#x648;&#x644;&#x649; &#x644;&#x646; &#x62a;&#x643;&#x648;&#x646; &#x645;&#x62b;&#x627;&#x644;&#x64a;&#x629;. &#x648;&#x627;&#x635;&#x644; &#x62a;&#x62d;&#x633;&#x64a;&#x646; &#x627;&#x644;&#x646;&#x645;&#x648;&#x630;&#x62c; &#x645;&#x639; &#x62a;&#x639;&#x644;&#x645;&#x643; &#x627;&#x644;&#x645;&#x632;&#x64a;&#x62f; &#x639;&#x646; &#x639;&#x645;&#x644;&#x643; &#x648;&#x627;&#x644;&#x633;&#x648;&#x642;.</li>
        </ul>
      </div>
    </div>
  
    <div id="loading-overlay">
      <div id="loading-message">&#x64a;&#x631;&#x62c;&#x649; &#x627;&#x644;&#x627;&#x646;&#x62a;&#x638;&#x627;&#x631;...</div>
    </div>
  
  </body>
  </html>